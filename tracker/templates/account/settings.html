{% extends 'base.html' %}

{% block content %}
<section class="py-16 bg-gradient-to-b from-blue-50 via-white to-white min-h-screen">
  <div class="max-w-4xl mx-auto p-6 bg-white shadow-xl rounded-2xl border border-gray-100">
    <div class="flex items-center mb-10">
      <svg class="w-8 h-8 text-blue-600 mr-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5.121 17.804A3 3 0 017 17h10a3 3 0 012.879 3.804M15 10a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
      <h2 class="text-3xl font-bold text-gray-800">Ustawienia konta</h2>
    </div>

    <!-- Profile Info Form -->
    <form method="post" class="mb-12">
      {% csrf_token %}
      <div class="mb-6">
        <h3 class="text-xl font-semibold text-gray-700 mb-4 flex items-center gap-2">
          <svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
          </svg>
          Informacje o profilu
        </h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          {% for field in user_form %}
            <div>
              <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-600 mb-1">
                {{ field.label }}
              </label>
              {{ field }}
              {% for error in field.errors %}
                <p class="text-sm text-red-600">{{ error }}</p>
              {% endfor %}
            </div>
          {% endfor %}

          {% for field in profile_form %}
            <div>
              <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-600 mb-1">
                {{ field.label }}
              </label>
              {{ field }}
              {% for error in field.errors %}
                <p class="text-sm text-red-600">{{ error }}</p>
              {% endfor %}
            </div>
          {% endfor %}
        </div>
      </div>

      <div class="flex justify-end">
        <button type="submit" name="update_profile"
          class="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg shadow-md transition-all">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
          </svg>
          Zapisz zmiany
        </button>
      </div>
    </form>

    <!-- Password Form -->
    <form method="post">
      {% csrf_token %}
      <h3 class="text-xl font-semibold text-gray-700 mb-4 flex items-center gap-2">
        <svg class="w-5 h-5 text-red-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 11c0-1.104.896-2 2-2s2 .896 2 2-2 2-2 2m-6 0a2 2 0 114 0 2 2 0 01-4 0z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M16 13v5a2 2 0 002 2H6a2 2 0 01-2-2v-5m16-4V5a2 2 0 00-2-2H6a2 2 0 00-2 2v4" />
        </svg>
        Zmień hasło
      </h3>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        {% for field in password_form %}
          <div>
            <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-600 mb-1">
              {{ field.label }}
            </label>
            {{ field }}
            {% for error in field.errors %}
              <p class="text-sm text-red-600">{{ error }}</p>
            {% endfor %}
          </div>
        {% endfor %}
      </div>

      <div class="flex justify-end">
        <button type="submit" name="change_password"
          class="flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg shadow-md transition-all">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 11c0-1.104.896-2 2-2s2 .896 2 2-2 2-2 2m-6 0a2 2 0 114 0 2 2 0 01-4 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M16 13v5a2 2 0 002 2H6a2 2 0 01-2-2v-5m16-4V5a2 2 0 00-2-2H6a2 2 0 00-2 2v4" />
          </svg>
          Zmień hasło
        </button>
      </div>
    </form>
  </div>
</section>
{% endblock %}
